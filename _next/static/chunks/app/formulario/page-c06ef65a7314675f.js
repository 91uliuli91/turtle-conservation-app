(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{1247:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(5155);a(3673);var r=a(2115);function l(e){let{onSelect:s}=e;return(0,t.jsx)("div",{className:"flex flex-col items-center animate-fadeInUp",children:(0,t.jsxs)("div",{className:"bg-card rounded-3xl p-8 shadow-xl border border-border/50 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsx)("h2",{className:"text-3xl font-light text-foreground mb-2 text-balance",children:"Nuevo Registro"}),(0,t.jsx)("p",{className:"text-muted-foreground text-lg text-pretty",children:"\xbfQu\xe9 tipo de evento registras?"})]}),(0,t.jsx)("div",{className:"space-y-4",children:[{id:"arqueo",name:"Arqueo",icon:"\uD83D\uDC22",description:"Registro de tortuga avistada",gradient:"gradient-emerald-teal",bgColor:"from-emerald-500/10 to-teal-500/10",borderColor:"border-emerald-500/20"},{id:"intento",name:"Intento",icon:"\uD83C\uDFD6️",description:"Intento de anidaci\xf3n",gradient:"gradient-purple-pink",bgColor:"from-purple-500/10 to-pink-500/10",borderColor:"border-purple-500/20"},{id:"anidacion",name:"Anidaci\xf3n",icon:"\uD83E\uDD5A",description:"Nido con huevos",gradient:"gradient-blue-cyan",bgColor:"from-blue-500/10 to-cyan-500/10",borderColor:"border-blue-500/20"}].map((e,a)=>(0,t.jsx)("button",{onClick:()=>s(e.id),className:"group w-full p-6 rounded-3xl border transition-all duration-500 ease-out\n                        hover:scale-105 hover:shadow-2xl hover:shadow-primary/10\n                        bg-gradient-to-r ".concat(e.bgColor," ").concat(e.borderColor,"\n                        hover:border-primary/30 animate-fadeInUp"),style:{animationDelay:"".concat(100*a,"ms")},children:(0,t.jsxs)("div",{className:"flex items-center space-x-5",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-card shadow-lg flex items-center justify-center text-2xl border border-border/50 group-hover:scale-110 transition-transform duration-300",children:e.icon}),(0,t.jsxs)("div",{className:"text-left flex-1 m-0",children:[(0,t.jsx)("div",{className:"text-xl font-semibold text-foreground mb-1 group-hover:text-primary transition-colors duration-300",children:e.name}),(0,t.jsx)("div",{className:"text-muted-foreground text-sm leading-relaxed",children:e.description})]}),(0,t.jsx)("div",{className:"w-10 h-10 rounded-2xl bg-muted/50 flex items-center justify-center group-hover:bg-primary group-hover:text-primary-foreground transition-all duration-300",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},e.id))}),(0,t.jsx)("div",{className:"mt-8 pt-6 border-t border-border/30 rounded-full",children:(0,t.jsx)("p",{className:"text-center text-xs text-muted-foreground tracking-wide",children:"SELECCIONA UNA OPCI\xd3N PARA CONTINUAR"})})]})})}function n(e){let{onLocationConfirm:s,onBack:a}=e;return(0,t.jsx)("div",{className:"animate-fadeInUp",children:(0,t.jsxs)("div",{className:"bg-card rounded-3xl p-8 shadow-xl border border-border/50 max-w-md mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsx)("h3",{className:"text-3xl font-light text-foreground mb-4 text-balance",children:"Selecciona la ubicaci\xf3n"}),(0,t.jsx)("p",{className:"text-muted-foreground text-lg text-pretty",children:"Obt\xe9n la ubicaci\xf3n precisa del evento"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("button",{onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{s(e.coords.latitude,e.coords.longitude)},e=>{alert("Error obteniendo ubicaci\xf3n: "+e.message),s(9.9281,-84.0907)}):(alert("Geolocalizaci\xf3n no soportada"),s(9.9281,-84.0907))},className:"w-full p-6 gradient-purple-blue text-white rounded-3xl font-semibold  hover:scale-105 hover:shadow-2xl hover:shadow-primary/25  transition-all duration-500 ease-out group",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-white/20 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300",children:"\uD83D\uDCCD"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:"Usar mi ubicaci\xf3n actual"}),(0,t.jsx)("div",{className:"text-white/80 text-sm",children:"GPS autom\xe1tico"})]})]})}),(0,t.jsxs)("div",{className:"bg-muted/30 rounded-3xl p-6 border border-border/50",children:[(0,t.jsx)("p",{className:"text-foreground mb-4 font-medium",children:"O selecciona en el mapa:"}),(0,t.jsx)("div",{className:"h-48 bg-gradient-to-br from-muted/50 to-muted/30 rounded-2xl flex items-center justify-center border border-border/30",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-card shadow-lg flex items-center justify-center text-2xl mb-4 mx-auto",children:"\uD83D\uDDFA️"}),(0,t.jsx)("span",{className:"text-muted-foreground font-medium",children:"Mapa interactivo"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Pr\xf3ximamente disponible"})]})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between mt-8 gap-4",children:[(0,t.jsxs)("button",{onClick:a,className:"flex-1 px-6 py-4 bg-muted/50 border border-border rounded-2xl text-foreground  hover:bg-muted hover:scale-105 transition-all duration-300 font-medium flex items-center justify-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,t.jsx)("span",{children:"Atr\xe1s"})]}),(0,t.jsxs)("button",{onClick:()=>s(9.9281,-84.0907),className:"flex-1 px-6 py-4 bg-secondary border border-border rounded-2xl text-secondary-foreground  :bg-accent hover:scale-105 transition-all duration-300 font-medium flex items-center justify-center space-x-2",children:[(0,t.jsx)("span",{children:"Continuar sin ubicaci\xf3n"}),(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})}function o(e){let{eventType:s,onDetailsChange:a,onBack:l,onNext:n}=e,[o,i]=(0,r.useState)({numeroHuevos:50,largoCaparazon:50,anchoCaparazon:50,observaciones:"",seColocoMarca:!1,seRemarco:!1}),d=(e,s)=>{let t={...o,[e]:s};i(t),a(t)};return(0,t.jsxs)("div",{className:"flex flex-col px-6 py-8 animate-fadeIn",children:[(0,t.jsx)("div",{className:"mb-8 text-center",children:(0,t.jsx)("h2",{className:"text-2xl font-light text-gray-100 mb-2",children:"Detalles del Evento"})}),(0,t.jsxs)("div",{className:"mb-8 flex-1",children:["anidacion"===s&&(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("label",{className:"block text-lg font-light text-gray-300 mb-6",children:"N\xfamero de Huevos"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-8",children:[(0,t.jsx)("button",{className:"w-14 h-14 bg-slate-800 hover:bg-slate-700 rounded-full  text-2xl font-light text-gray-300 transition-all duration-200 shadow-lg hover:shadow-xl pb-4",onClick:()=>d("numeroHuevos",Math.max(0,o.numeroHuevos-1)),children:"−"}),(0,t.jsx)("div",{className:"text-4xl font-light text-white w-20 text-center",children:o.numeroHuevos}),(0,t.jsx)("button",{className:"w-14 h-14 bg-slate-800 hover:bg-slate-700 rounded-full  text-2xl font-light text-gray-300 transition-all duration-200 shadow-lg hover:shadow-xl",onClick:()=>d("numeroHuevos",o.numeroHuevos+1),children:"+"})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"250",value:o.numeroHuevos,onChange:e=>d("numeroHuevos",Number(e.target.value)),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer slider-thumb"})]})}),("arqueo"===s||"anidacion"===s)&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("label",{className:"text-lg font-light text-gray-300",children:"Largo del caparaz\xf3n"}),(0,t.jsxs)("span",{className:"text-2xl font-light text-white",children:[o.largoCaparazon," cm"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"250",value:o.largoCaparazon,onChange:e=>d("largoCaparazon",Number(e.target.value)),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer slider-thumb"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("label",{className:"text-lg font-light text-gray-300",children:"Ancho del caparaz\xf3n"}),(0,t.jsxs)("span",{className:"text-2xl font-light text-white",children:[o.anchoCaparazon," cm"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"250",value:o.anchoCaparazon,onChange:e=>d("anchoCaparazon",Number(e.target.value)),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer slider-thumb"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-4 p-4 bg-slate-800/50 rounded-xl cursor-pointer hover:bg-slate-800/70 transition-all duration-200",children:[(0,t.jsx)("input",{type:"checkbox",checked:o.seColocoMarca,onChange:e=>d("seColocoMarca",e.target.checked),className:"w-5 h-5 text-emerald-600 bg-slate-700 border-slate-600  rounded focus:ring-emerald-500 focus:ring-2"}),(0,t.jsx)("span",{className:"text-gray-300 font-light",children:"Se coloc\xf3 marca nueva"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-4 p-4 bg-slate-800/50 rounded-xl cursor-pointer hover:bg-slate-800/70 transition-all duration-200",children:[(0,t.jsx)("input",{type:"checkbox",checked:o.seRemarco,onChange:e=>d("seRemarco",e.target.checked),className:"w-5 h-5 text-emerald-600 bg-slate-700 border-slate-600  rounded focus:ring-emerald-500 focus:ring-2"}),(0,t.jsx)("span",{className:"text-gray-300 font-light",children:"Se remarc\xf3"})]})]})]}),"intento"===s&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFD6️"}),(0,t.jsxs)("p",{className:"text-gray-400 text-lg font-light",children:["No se requieren detalles adicionales",(0,t.jsx)("br",{}),"para intentos de anidaci\xf3n"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:l,className:"flex-1 py-4 bg-slate-800 hover:bg-slate-700 rounded-xl  text-gray-300 font-medium transition-all duration-200",children:"← Volver"}),(0,t.jsx)("button",{onClick:n,className:"flex-1 py-4 bg-gradient-to-r from-emerald-600 to-teal-600  hover:from-emerald-500 hover:to-teal-500 rounded-xl  text-white font-medium transition-all duration-200 shadow-lg",children:"Siguiente →"})]})]})}function i(e){let{onPhotosChange:s,onObservationsChange:a,onBack:l,onNext:n}=e,[o,i]=(0,r.useState)([]),[d,c]=(0,r.useState)("");return(0,t.jsxs)("div",{className:"flex flex-col px-6 py-8 h-full animate-fadeIn",children:[(0,t.jsx)("div",{className:"mb-8 text-center",children:(0,t.jsx)("h2",{className:"text-2xl font-light text-gray-100 mb-2",children:"Fotos y Observaciones"})}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-light text-gray-300",children:["Fotos (",o.length,")"]}),(0,t.jsx)("button",{onClick:()=>{let e="https://picsum.photos/200/300?random=".concat(o.length+1),a=[...o,e];i(a),s(a)},className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600  hover:from-blue-500 hover:to-purple-500 rounded-xl  text-white font-medium transition-all duration-200 shadow-lg flex items-center gap-2",children:"\uD83D\uDCF8 Tomar Foto"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:o.map((e,a)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("img",{src:e,alt:"Foto ".concat(a+1),className:"w-full h-32 object-cover rounded-xl"}),(0,t.jsx)("button",{onClick:()=>(e=>{let a=o.filter((s,a)=>a!==e);i(a),s(a)})(a),className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 hover:bg-red-600  text-white rounded-full text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"\xd7"})]},a))}),0===o.length&&(0,t.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-slate-700 rounded-xl",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF8"}),(0,t.jsxs)("p",{className:"text-gray-400 font-light",children:["No hay fotos a\xfan",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-gray-500",children:"Toma la primera foto"})]})]})]}),(0,t.jsxs)("div",{className:"mb-8 flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-light text-gray-300 mb-4",children:"Observaciones"}),(0,t.jsx)("textarea",{value:d,onChange:e=>{c(e.target.value),a(e.target.value)},placeholder:"Escribe observaciones relevantes sobre el evento...",className:"w-full h-32 p-4 bg-slate-800/50 border border-slate-700  rounded-xl text-white placeholder-gray-500 resize-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500  transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:l,className:"flex-1 py-4 bg-slate-800 hover:bg-slate-700 rounded-xl  text-gray-300 font-medium transition-all duration-200",children:"← Volver"}),(0,t.jsx)("button",{onClick:n,className:"flex-1 py-4 bg-gradient-to-r from-emerald-600 to-teal-600  hover:from-emerald-500 hover:to-teal-500 rounded-xl  text-white font-medium transition-all duration-200 shadow-lg",children:"Resumen →"})]})]})}function d(e){var s,a;let{eventData:r,onBack:l,onSave:n,isSaving:o}=e;return(0,t.jsxs)("div",{className:"flex flex-col p-4 h-full",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Resumen del Evento"}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-600 pb-2",children:"Informaci\xf3n General"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Tipo de Evento:"}),(0,t.jsx)("span",{className:"font-semibold",children:{arqueo:"Arqueo",intento:"Intento",anidacion:"Anidaci\xf3n"}[a=r.type]||a})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Ubicaci\xf3n:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[r.location.lat.toFixed(6),", ",r.location.lon.toFixed(6)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Fecha/Hora:"}),(0,t.jsx)("span",{className:"font-semibold",children:r.date?new Date(r.date).toLocaleString():new Date().toLocaleString()})]})]})]}),"anidacion"===r.type&&(null==(s=r.details)?void 0:s.numeroHuevos)&&(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-600 pb-2",children:"Detalles de Anidaci\xf3n"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"N\xfamero de Huevos:"}),(0,t.jsx)("span",{className:"font-semibold",children:r.details.numeroHuevos})]})]}),("arqueo"===r.type||"anidacion"===r.type)&&(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-600 pb-2",children:"Mediciones"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Largo caparaz\xf3n:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[r.details.largoCaparazon," cm"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Ancho caparaz\xf3n:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[r.details.anchoCaparazon," cm"]})]})]})]}),r.observations&&(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-600 pb-2",children:"Observaciones"}),(0,t.jsx)("p",{className:"text-gray-300",children:r.observations})]}),r.photos&&r.photos.length>0&&(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-600 pb-2",children:["Fotos (",r.photos.length,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:r.photos.slice(0,4).map((e,s)=>(0,t.jsx)("img",{src:e,alt:"Foto ".concat(s+1),className:"w-full h-20 object-cover rounded"},s))})]}),(0,t.jsxs)("div",{className:"flex gap-4 mt-auto",children:[(0,t.jsx)("button",{onClick:l,className:"flex-1 py-3 bg-gray-600 rounded-lg text-white font-semibold",disabled:o,children:"← Volver"}),(0,t.jsx)("button",{onClick:n,className:"flex-1 py-3 bg-green-600 rounded-lg text-white font-semibold disabled:bg-gray-600",disabled:o,children:o?(0,t.jsxs)("span",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Guardando...."]}):"✅ Guardar Evento"})]})]})}function c(){let[e,s]=(0,r.useState)(1),[a,c]=(0,r.useState)({type:"",location:{lat:0,lon:0},details:{},photos:[],observations:""}),[m,u]=(0,r.useState)(!1),[h,b]=(0,r.useState)("idle"),[g,p]=(0,r.useState)(!1),[v,f]=(0,r.useState)(!1),{isOnline:j,pendingSyncs:N,saveEventOffline:y,syncPendingEvents:w}={isOnline:!0,pendingSyncs:0,saveEventOffline:async e=>(console.log("Saving offline:",e),Math.random().toString(36).substr(2,9)),syncPendingEvents:async()=>console.log("Syncing events")},C=()=>s(e=>e+1),k=()=>s(e=>e-1),D=(e,s)=>{c(a=>({...a,[e]:s}))};(0,r.useEffect)(()=>{let e;return j&&N>0&&(e=setInterval(()=>{w().catch(console.error)},3e4)),()=>{e&&clearInterval(e)}},[j,N,w]),(0,r.useEffect)(()=>{f(!0);let e=setTimeout(()=>f(!1),500);return()=>clearTimeout(e)},[e]);let E=async()=>{u(!0),b("saving");try{j?(console.log("Guardando online:",a),await new Promise(e=>setTimeout(e,2e3))):await y(a),b("saved"),setTimeout(()=>p(!0),1e3)}catch(e){console.error("Error guardando evento:",e),b("error"),alert("❌ Error guardando el evento: ".concat(e.message,". Por favor intenta nuevamente."))}finally{u(!1)}},S=()=>{c({type:"",location:{lat:0,lon:0},details:{},photos:[],observations:""}),s(1),b("idle"),p(!1)},R=()=>{window.location.href="/"},I=1===e?0:(e-1)/4*100;return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("div",{className:"p-2 sm:p-8",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-card rounded-3xl p-8 shadow-lg border border-border/50 mb-8 mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-2 justify-between ",children:[(0,t.jsxs)("button",{onClick:()=>window.history.back(),className:"flex items-center space-x-2 px-4 py-3 bg-secondary hover:bg-accent text-secondary-foreground  border border-border transition-all duration-300 hover:scale-105 hover:shadow-lg  cursor-pointer group",children:[(0,t.jsx)("svg",{className:"w-4 h-4 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,t.jsx)("span",{className:"font-bold",children:"Volver"})]}),(0,t.jsx)("div",{className:"px-4 py-3 rounded-2xl text-sm font-medium border transition-all duration-300 backdrop-blur-sm ".concat(j?"bg-success/10 text-success border-success/30 shadow-lg shadow-success/5":"bg-destructive/10 text-destructive border-destructive/30 shadow-lg shadow-destructive/5"),children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(j?"bg-success":"bg-destructive"," animate-pulse")}),(0,t.jsx)("span",{className:"font-semibold",children:j?"Online":"Offline"}),N>0&&(0,t.jsx)("span",{className:"bg-muted px-3 py-1 rounded-full text-xs font-medium",children:N})]})})]}),(0,t.jsx)("div",{className:"flex justify-between items-start mb-8",children:(0,t.jsxs)("div",{className:"space-y-4 ",children:[(0,t.jsx)("h1",{className:"text-3xl sm:text-5xl font-bold text-balance bg-gradient-to-r from-primary to-primary/100 bg-clip-text text-transparent rounded-none pt-4 ",children:"saved"===h&&g?"Evento Guardado":"Registro de Evento"}),(0,t.jsx)("p",{className:"text-muted-foreground text-xl text-pretty leading-relaxed",children:"saved"===h&&g?"\xbfQu\xe9 te gustar\xeda hacer ahora?":"Complete la informaci\xf3n del evento de conservaci\xf3n"})]})}),"saved"===h&&g?null:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("span",{className:"text-sm font-bold text-muted-foreground tracking-wide",children:["Paso ",e," de 5"]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"w-full bg-muted/30 rounded-full h-3 overflow-hidden shadow-inner",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse-slow"}),(0,t.jsxs)("div",{className:"h-3 rounded-full transition-all duration-1000 ease-out shadow-lg relative overflow-hidden ".concat(v?"animate-wave":""),style:{width:"".concat(I,"%")},children:[(0,t.jsx)("div",{className:"absolute inset-0 gradient-purple-blue"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shine"})]})]}),I>0&&I<100&&(0,t.jsxs)("div",{className:"absolute top-1/2 transform -translate-y-1/2 bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-bold shadow-lg transition-all duration-1000 ease-out animate-float",style:{left:"calc(".concat(I,"% - 20px)")},children:[Math.round(I),"%"]})]}),(0,t.jsx)("div",{className:"flex justify-between items-center",children:[{step:1,label:"Tipo",icon:"\uD83D\uDC22"},{step:2,label:"Ubicaci\xf3n",icon:"\uD83D\uDCCD"},{step:3,label:"Detalles",icon:"\uD83D\uDCDD"},{step:4,label:"Fotos",icon:"\uD83D\uDCF8"},{step:5,label:"Resumen",icon:"✅"}].map(s=>{let{step:a,label:r,icon:l}=s,n=e>a,o=e===a;return(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsx)("div",{className:"relative w-12 h-12 rounded-2xl flex items-center justify-center text-lg transition-all duration-700 ".concat(n?"gradient-purple-blue text-white shadow-lg shadow-primary/25 scale-110 animate-check-in":o?"bg-primary text-primary-foreground border-2 border-primary shadow-lg scale-110 animate-pulse":"bg-muted/50 text-muted-foreground border border-border hover:bg-muted/80 transition-all duration-300"),children:n?(0,t.jsx)("div",{className:"animate-check-in",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):o?(0,t.jsx)("span",{className:"font-bold text-sm animate-bounce-in",children:a}):(0,t.jsx)("span",{className:"opacity-70",children:l})}),(0,t.jsx)("span",{className:"text-xs font-semibold transition-all duration-500 ".concat(n||o?"text-primary font-bold":"text-muted-foreground opacity-70"),children:r.toUpperCase()})]},a)})})]})]})})}),(0,t.jsx)("div",{className:"px-2 pb-12 sm:px-8",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsx)("div",{className:"animate-fadeInUp",children:(()=>{if("saved"===h&&g)return(0,t.jsx)("div",{className:"animate-fadeInUp",children:(0,t.jsx)(x,{onAddNewEvent:S,onReturnToDashboard:R})});switch(e){case 1:return(0,t.jsx)(l,{onSelect:e=>{D("type",e),C()}});case 2:return(0,t.jsx)(n,{onLocationConfirm:(e,s)=>{D("location",{lat:e,lon:s}),C()},onBack:k});case 3:return(0,t.jsx)(o,{eventType:a.type,onDetailsChange:e=>D("details",e),onBack:k,onNext:C});case 4:return(0,t.jsx)(i,{onPhotosChange:e=>D("photos",e),onObservationsChange:e=>D("observations",e),onBack:k,onNext:C});case 5:return(0,t.jsx)(d,{eventData:a,onBack:k,onSave:E,isSaving:m});default:return(0,t.jsx)("div",{children:"Paso no v\xe1lido"})}})()})})}),"idle"!==h&&!g&&(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-xl border-t border-border/50 z-50",children:(0,t.jsx)("div",{className:"px-6 py-6",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"flex items-center justify-center py-6 px-8 rounded-3xl transition-all duration-500 animate-scaleIn ".concat("saving"===h?"bg-muted/30 border border-border/50":"saved"===h?"bg-success/10 border border-success/30 shadow-lg shadow-success/5":"bg-destructive/10 border border-destructive/30 shadow-lg shadow-destructive/5"),children:["saving"===h&&(0,t.jsxs)("div",{className:"flex items-center text-foreground",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-3 border-primary/20 border-t-primary mr-4"}),(0,t.jsx)("span",{className:"font-semibold text-lg",children:"Guardando evento..."})]}),"saved"===h&&(0,t.jsxs)("div",{className:"flex items-center text-success",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-success flex items-center justify-center mr-4",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,t.jsx)("span",{className:"font-semibold text-lg",children:"Evento guardado exitosamente"})]}),"error"===h&&(0,t.jsxs)("div",{className:"flex items-center text-destructive",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-destructive flex items-center justify-center mr-4",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,t.jsx)("span",{className:"font-semibold text-lg",children:"Error al guardar el evento"})]})]})})})})]})}function x(e){let{onAddNewEvent:s,onReturnToDashboard:a}=e;return(0,t.jsxs)("div",{className:"bg-card rounded-3xl p-8 shadow-xl border border-border/50 max-w-md mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-success/20 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",children:(0,t.jsx)("svg",{className:"w-10 h-10 text-success",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"\xa1Evento Guardado!"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"El evento ha sido registrado exitosamente en el sistema."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("button",{onClick:s,className:"w-full p-6 gradient-purple-blue text-white font-semibold  hover:scale-105 hover:shadow-2xl hover:shadow-primary/25  transition-all duration-500 ease-out group animate-fadeInUp",style:{animationDelay:"200ms"},children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/20 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300",children:"➕"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:"Agregar Nuevo Evento"}),(0,t.jsx)("div",{className:"text-white/80 text-sm",children:"Registrar otro evento"})]})]})}),(0,t.jsx)("button",{onClick:a,className:"w-full p-6 bg-secondary hover:bg-accent text-secondary-foreground  border border-border font-semibold hover:scale-105  transition-all duration-500 ease-out group animate-fadeInUp",style:{animationDelay:"400ms"},children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-muted/50 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300",children:"\uD83C\uDFE0"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:"Volver al Inicio"}),(0,t.jsx)("div",{className:"text-muted-foreground text-sm",children:"Regresar al dashboard"})]})]})})]}),(0,t.jsx)("div",{className:"mt-8 pt-6 border-t border-border/30",children:(0,t.jsx)("p",{className:"text-center text-xs text-muted-foreground tracking-wide animate-pulse",children:"SELECCIONA UNA OPCI\xd3N PARA CONTINUAR"})})]})}function m(){return(0,t.jsx)(c,{})}},3673:()=>{},6543:(e,s,a)=>{Promise.resolve().then(a.bind(a,1247))}},e=>{e.O(0,[978,441,255,358],()=>e(e.s=6543)),_N_E=e.O()}]);