(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{1723:(e,s,a)=>{Promise.resolve().then(a.bind(a,4081))},4081:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var r=a(5155),l=a(2115);function d(){let[e,s]=(0,l.useState)(null),[a,d]=(0,l.useState)(!1),[t,o]=(0,l.useState)(null),n=async(e,a)=>{d(!0),o(null),s(null);try{let r="/api/test-db?test=".concat(e),l={method:"GET"};"user"===e&&(null==a?void 0:a.id)&&(r+="&id=".concat(a.id)),"create-user"===e&&(l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},r="/api/test-db");let d=await fetch(r,l),t=await d.json();s(t)}catch(e){o(e instanceof Error?e.message:"Error desconocido")}finally{d(!1)}},[i,u]=(0,l.useState)("1"),[c,b]=(0,l.useState)(""),[x,h]=(0,l.useState)("");return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"\uD83E\uDDEA Pruebas de Base de Datos"}),(0,r.jsxs)("div",{className:"grid gap-4 mb-8",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"1. Probar Conexi\xf3n"}),(0,r.jsx)("button",{onClick:()=>n("connection"),disabled:a,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white px-4 py-2 rounded",children:a?"Probando...":"Probar Conexi\xf3n"})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"2. Obtener Todos los Usuarios"}),(0,r.jsx)("button",{onClick:()=>n("users"),disabled:a,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white px-4 py-2 rounded",children:a?"Obteniendo...":"Obtener Usuarios"})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"3. Obtener Usuario por ID"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,r.jsx)("input",{type:"number",value:i,onChange:e=>u(e.target.value),placeholder:"ID del usuario",className:"border border-gray-300 px-3 py-2 rounded flex-1"}),(0,r.jsx)("button",{onClick:()=>n("user",{id:i}),disabled:a||!i,className:"bg-yellow-500 hover:bg-yellow-600 disabled:bg-gray-400 text-white px-4 py-2 rounded",children:a?"Buscando...":"Buscar Usuario"})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"4. Crear Usuario"}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsx)("input",{type:"text",value:c,onChange:e=>b(e.target.value),placeholder:"Nombre del usuario",className:"border border-gray-300 px-3 py-2 rounded w-full"}),(0,r.jsx)("input",{type:"email",value:x,onChange:e=>h(e.target.value),placeholder:"Email del usuario",className:"border border-gray-300 px-3 py-2 rounded w-full"})]}),(0,r.jsx)("button",{onClick:()=>n("create-user",{name:c,email:x}),disabled:a||!c||!x,className:"bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white px-4 py-2 rounded",children:a?"Creando...":"Crear Usuario"})]})]}),(e||t)&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCCA Resultados"}),t?(0,r.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,r.jsx)("strong",{children:"Error:"})," ",t]}):(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded overflow-x-auto text-sm",children:JSON.stringify(e,null,2)})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 p-6 rounded-lg mt-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"\uD83D\uDCCB Instrucciones"}),(0,r.jsxs)("ul",{className:"text-blue-700 space-y-1",children:[(0,r.jsx)("li",{children:"• Aseg\xfarate de que PostgreSQL est\xe9 ejecut\xe1ndose"}),(0,r.jsx)("li",{children:"• Verifica que la base de datos 'coral_de_datos' exista"}),(0,r.jsx)("li",{children:"• Crea una tabla 'users' si planeas probar las funciones de usuarios"})]})]})]})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=1723)),_N_E=e.O()}]);